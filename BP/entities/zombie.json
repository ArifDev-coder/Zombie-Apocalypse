{
    "format_version": "1.21.90",
    "minecraft:entity": {
        "description": {
            "identifier": "minecraft:zombie",
            "is_spawnable": false,
            "is_summonable": true,
            "is_experimental": false,
            "properties": {
                "za:is_screaming": {
                    "type": "bool",
                    "default": false,
                    "client_sync": true
                }
            },
            "animations": {
                "idle": "animation.zombie_mouth.idle",
                "walk": "animation.zombie_mouth.walk",
                "scream": "animation.zombie_mouth.scream",
                "scream_controller": "controller.animation.zombie_mouth.scream",
                "walk_controller": "controller.animation.zombie_mouth.walk"
            },
            "scripts": {
                "animate": ["scream_controller", "walk_controller"]
            }
        },
        "component_groups": {
            "za:zombie_fase_1": {
                "minecraft:health": {
                    "value": 20,
                    "max": 20
                },
                "minecraft:movement": {
                    "value": 0.25
                },
                "minecraft:attack": {
                    "damage": 4
                },
                "minecraft:type_family": {
                    "family": [
                        "zombie",
                        "undead",
                        "monster",
                        "fase1"
                    ]
                }
            },
            "za:zombie_fase_2": {
                "minecraft:health": {
                    "value": 40,
                    "max": 40
                },
                "minecraft:movement": {
                    "value": 0.3
                },
                "minecraft:attack": {
                    "damage": 6
                },
                "minecraft:type_family": {
                    "family": [
                        "zombie",
                        "undead",
                        "monster",
                        "fase2"
                    ]
                }
            },
            "za:zombie_fase_3": {
                "minecraft:health": {
                    "value": 60,
                    "max": 60
                },
                "minecraft:movement": {
                    "value": 0.35
                },
                "minecraft:attack": {
                    "damage": 8
                },
                "minecraft:type_family": {
                    "family": [
                        "zombie",
                        "undead",
                        "monster",
                        "fase3"
                    ]
                }
            },
            "za:screaming": {
                "minecraft:property": {
                    "za:is_screaming": true
                },
                "minecraft:movement": {
                    "value": 0.0
                },
                "minecraft:play_sound": {
                    "sound": "mob.zombie.say",
                    "volume": 2.0,
                    "pitch": 0.8
                }
            }
        },
        "events": {
            "minecraft:entity_spawned": {
                "sequence": [
                    {
                        "filters": { "test": "game_day", "operator": ">=", "value": 50 },
                        "randomize": [
                            {
                                "weight": 70,
                                "add": { "component_groups": ["za:zombie_fase_3"] }
                            },
                            {
                                "weight": 20,
                                "add": { "component_groups": ["za:zombie_fase_2"] }
                            },
                            {
                                "weight": 10,
                                "add": { "component_groups": ["za:zombie_fase_1"] }
                            }
                        ]
                    },
                    {
                        "filters": { "test": "game_day", "operator": ">=", "value": 10 },
                        "randomize": [
                            {
                                "weight": 80,
                                "add": { "component_groups": ["za:zombie_fase_2"] }
                            },
                            {
                                "weight": 20,
                                "add": { "component_groups": ["za:zombie_fase_1"] }
                            }
                        ]
                    },
                    {
                        "add": { "component_groups": ["za:zombie_fase_1"] }
                    }
                ]
            },
            "za:start_scream": {
                "add": { "component_groups": ["za:screaming"] }
            },
            "za:stop_scream": {
                "remove": { "component_groups": ["za:screaming"] },
                "set_property": { "za:is_screaming": false }
            }
        },
        "components": {
            "minecraft:type_family": {
                "family": [
                    "zombie",
                    "undead",
                    "monster"
                ]
            },
            "minecraft:health": {
                "value": 20,
                "max": 20
            },
            "minecraft:movement": {
                "value": 0.25
            },
            "minecraft:attack": {
                "damage": 4
            },
            "minecraft:collision_box": {
                "width": 0.8,
                "height": 1.8
            },
            "minecraft:loot": "loot_tables/entities/zombie.json",
            "minecraft:behavior.float": {
                "priority": 0
            },
            "minecraft:behavior.hurt_by_target": {
                "priority": 1
            },
            "minecraft:behavior.nearest_attackable_target": {
                "priority": 2,
                "must_see": true,
                "entity_types": [
                    {
                        "filters": { "any_of": [
                            { "test": "is_family", "subject": "other", "value": "player" },
                            { "test": "is_family", "subject": "other", "value": "villager" },
                            { "test": "is_family", "subject": "other", "value": "animal" }
                        ]},
                        "max_dist": 20
                    }
                ],
                "on_target_acquired": {
                    "event": "za:start_scream",
                    "target": "self"
                }
            },
            "minecraft:behavior.melee_attack": {
                "priority": 3,
                "speed_multiplier": 1.25,
                "track_target": true
            },
            "minecraft:behavior.random_stroll": {
                "priority": 6,
                "speed_multiplier": 1.0
            },
            "minecraft:behavior.random_look_around": {
                "priority": 7
            }
        }
    }
}